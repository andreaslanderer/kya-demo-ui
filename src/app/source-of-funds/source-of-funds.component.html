<div class="slds-form-element form-container">
  <label class="slds-form-element__label" for="textarea-investment">Planned Initial Investment:</label>
  <div class="slds-form-element__control">
    <textarea id="textarea-investment" class="slds-textarea" [(ngModel)]="plannedInitialInvestmentChf" rows="4"></textarea>
  </div>
</div>

<button class="slds-button slds-button_brand" (click)="processInput()">Process Data</button>

<!-- Ladeanzeige -->
<div *ngIf="isLoading" class="loading-spinner">
  <div class="slds-spinner slds-spinner_medium">
    <span class="slds-assistive-text">Loading...</span>
  </div>
</div>

<!-- Anzeige der Serverantworten -->
<div *ngIf="serverResponses.length > 0" class="server-responses">
  <h3>Server Responses</h3>
  <div class="slds-box slds-theme_default slds-m-bottom_medium" *ngFor="let response of serverResponses; let i = index">
    <h4 class="slds-text-heading_medium">Response {{ i + 1 }}</h4>
    <div class="slds-m-around_medium" *ngFor="let key of getKeys(response)">
      <h5 class="slds-text-heading_small">{{ key | titlecase }}</h5>
      <div *ngIf="response[key][key]" class="slds-box slds-theme_shade slds-theme_alert-texture slds-m-around_small">
        <div *ngFor="let item of response[key][key]" class="slds-m-bottom_x-small">
          <p><strong>Description:</strong> {{ item.description }}</p>
          <p><strong>Amount:</strong> {{ item.amount }}</p>
          <p><strong>Currency:</strong> {{ item.currency }}</p>
          <p><strong>Date:</strong> {{ item.asofdate }}</p>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  .form-container {
    margin: 20px;
    border: 1px solid #ddd;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0px 0px 10px rgba(0,0,0,0.1);
  }

  .loading-spinner {
    text-align: center;
    padding: 20px;
  }

  .server-responses {
    margin: 20px;
  }

  .response-section {
    border: 1px solid #ccc;
    padding: 10px;
    border-radius: 5px;
    background-color: #f9f9f9;
    margin-bottom: 20px;
  }
</style>
